image: juampynr/drupal8ci:latest

pipelines:
  default:
    - parallel:
        - step:
            name: Coding Standards
            script:
              - composer install
              - vendor/bin/robo job:build
              - vendor/bin/robo job:coding-standards
            caches:
              - composer
        - step:
            name: Unit test
            script:
              - composer install
              - vendor/bin/robo job:build
              - vendor/bin/robo job:unit-tests
            caches:
              - composer
        - step:
            name: Code coverage
            script:
              - composer install
              - vendor/bin/robo job:build
              - vendor/bin/robo job:coverage-report
            caches:
              - composer
